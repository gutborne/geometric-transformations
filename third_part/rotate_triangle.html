<!DOCTYPE html>
<html>
<head>
<script id="vertex-shader" type="x-shader/x-vertex">
    //note: DTn means different things in relation to previous code practices. n = first, second...
    attribute vec4 vPosition;
    attribute vec4 vColor;
    varying vec4 fColor;
    uniform float theta; //DTfirst
    uniform float xTranslate;
    uniform float yTranslate;
    uniform float xScale;
    uniform float yScale;
    uniform int i;
    //compute the sines and cosines of theta for the three axes
    void main(){ //DTsecond
        float angles = radians(theta);
        float c = cos(angles);
        float s = sin(angles);
        float x_translate = xTranslate;
        float y_Translate = yTranslate;
        float x_scale = xScale;
        float y_scale = yScale;
        
        //such matrices are colum-major order
        mat4 rz = mat4( c, -s, 0.0, 0.0,
                        s, c, 0.0, 0.0,
                        0.0, 0.0, 1.0, 0.0,
                        0.0, 0.0, 0.0, 1.0 );
        
                        mat4 e = mat4(  x_scale, 0.0, 0.0, 0.0,
                                        0.0, y_scale, 0.0, 0.0,
                                        0.0, 0.0, 0.0, 0.0,
                                        0.0, 0.0, 0.0, 1.0);
        
                        mat4 t = mat4(1.0, 0.0, 0.0, x_translate, 
                                    0.0, 1.0, 0.0, y_Translate,
                                    0.0, 0.0, 1.0, 0.0,
                                    0.0, 0.0, 0.0, 1.0);
        fColor = vec4(1.0, 1.0, 1.0, 1.0);  // Pass a default white color
        vec4 translatedPosition = vec4(vPosition.x + x_translate, vPosition.y + y_Translate, vPosition.z, 1.0) * t * rz * e;
        gl_Position = translatedPosition;
    }
</script>
<style>
    #txy-section{
        display: none;
    }
    #exy-section{
        display: none;
    }
</style>
<script id="fragment-shader" type="x-shader/x-fragment">
    precision mediump float;
    uniform vec4 fColor;
    uniform int i;
    
    void main(){
        vec4 c[7];
        c[0] = fColor;  // Default color (passed from vertex shader)
        c[1] = vec4(1.0, 0.0, 0.0, 1.0);  // Red
        c[2] = vec4(0.0, 1.0, 0.0, 1.0);  // Green
        c[3] = vec4(0.0, 0.0, 1.0, 1.0);  // Blue
        c[4] = vec4(1.0, 1.0, 0.0, 1.0);  // Yellow
        c[5] = vec4(0.0, 1.0, 1.0, 1.0);  // Cyan
        c[6] = vec4(1.0, 0.0, 1.0, 1.0);  // Magenta
        // Assign the color based on the uniform `i`
        gl_FragColor = c[2];
    }
</script>
<script type="text/javascript" src="./Common/webgl-utils.js"> </script>
<script type="text/javascript" src="./Common/initShaders.js"> </script>
<script type="text/javascript" src="./Common/MV.js"> </script>
<script type="text/javascript" src="rotate_triangle.js"></script>
</head>

<body>
    <section id="container"> 
        <canvas id="gl-canvas" width="512" height="512"></canvas>
        <button id= "rButton">Z-Rotation</button>
        <button id= "tButton">Translation</button>
        
        <button id="eButton">Scale</button>
        <section id="exy-section">
            <form action="" id="eForm">
                <label for="xScale">x-scale: </label>
                <input type="text" name="xScale" id="xScale">
                <label for="yScale">y-scale: </label>
                <input type="text" id="yScale" name="yScale">
                <input type="submit" value="submit" id="submit">
            </form>
        </section>  
    </section>
</body>
</html>
